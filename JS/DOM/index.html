<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>DOM</title>
    </head>

    <script>
        async function populateDiv() {
            let a = document.getElementById('first').value;
            let b = document.getElementById('second').value;
            let element = document.getElementById('finalSum');
            // element.innerHTML = a+b;

            // assume the calculation is very hard, someone deployed its logic on server,
            // same like connecting to the backend
            // so we can access it like this: (it returns a promise)
            
            // fetch(`https://sum-server.100xdevs.com/sum?a=${a}&b=${b}`)
            // .then(function(value) {
            //     console.log(value);
                
            //     value.text()
            //          .then((ans) => {
            //             console.log(ans);
            //             element.innerHTML = ans;
            //          })
            // })
             
            // using async await
            const response = await fetch(`https://sum-server.100xdevs.com/sum?a=${a}&b=${b}`)
            const ans = await response.text();
            element.innerHTML = ans;
        }   
    </script>

    <body>
        <label for="">a: <input id="first" type="text" placeholder="Enter first number"/> </label> <br>
        <label for="">b: <input id="second" type="text" placeholder="Enter second number"/> </label> <br>
        <button onclick="populateDiv()">Calculate Sum</button>
        <div id="finalSum">hi there</div>
    </body>

</html>